{"ast":null,"code":"var _jsxFileName = \"/home/uri/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Ex2/Chat-Application/src/log-in/Log-in.js\",\n  _s = $RefreshSig$();\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport PasswordLog from './password/PasswordLog';\nimport UsernameLog from './userName/UsernameLog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LogIn(_ref) {\n  _s();\n  let {\n    users,\n    setUsers,\n    setUser\n  } = _ref;\n  const navigate = useNavigate();\n  const [isNameReady, setIsNameReady] = useState(null);\n  const [isCorrect, setIsCorrect] = useState(true);\n  const [isPasswordReady, setIsPasswordReady] = useState(null);\n  const [name, setName] = useState(null);\n  const [password, setPassword] = useState(null);\n  function handleSubmit(event) {\n    event.preventDefault();\n    let index = 0;\n    let find = false;\n    // Check if the username and password match\n    for (; index < users.length; index++) {\n      if (users[index].userName === name && users[index].password === password) {\n        find = true;\n        break;\n      }\n    }\n    if (find) {\n      const updatedUsers = users.map((user, i) => i === index ? {\n        ...user,\n        registered: \"yes\"\n      } : user);\n      setUsers(updatedUsers); // Update the users array in the parent component\n      setUser(users[index]);\n      console.log(users[index]);\n      navigate('/chat');\n    } else {\n      setIsCorrect(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"patterns sea\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        id: \"log-screen\",\n        children: [/*#__PURE__*/_jsxDEV(UsernameLog, {\n          users: users,\n          setIsReady: setIsNameReady,\n          setVal: setName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(PasswordLog, {\n          name: name,\n          setIsReady: setIsPasswordReady,\n          setVal: setPassword,\n          users: users\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), !isCorrect && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lable alert alert-danger\",\n          children: \"Incorrect username or password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary screen-foot\",\n          id: \"login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"screen-foot\",\n          id: \"register\",\n          children: [\"Not registered? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"click here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 73\n          }, this), \" to register\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n_s(LogIn, \"daOlAg79dVwOvZOlSrw8k5Jx93w=\", false, function () {\n  return [useNavigate];\n});\n_c = LogIn;\nexport default LogIn;\nvar _c;\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"names":["Link","useNavigate","useState","PasswordLog","UsernameLog","jsxDEV","_jsxDEV","LogIn","_ref","_s","users","setUsers","setUser","navigate","isNameReady","setIsNameReady","isCorrect","setIsCorrect","isPasswordReady","setIsPasswordReady","name","setName","password","setPassword","handleSubmit","event","preventDefault","index","find","length","userName","updatedUsers","map","user","i","registered","console","log","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","id","setIsReady","setVal","type","to","_c","$RefreshReg$"],"sources":["/home/uri/שולחן העבודה/Ex2/Chat-Application/src/log-in/Log-in.js"],"sourcesContent":["import { Link, useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport PasswordLog from './password/PasswordLog';\nimport UsernameLog from './userName/UsernameLog';\nfunction LogIn({users , setUsers, setUser}) {\n    const navigate = useNavigate();\n    const [isNameReady, setIsNameReady] = useState(null);\n    const [isCorrect, setIsCorrect] = useState(true);\n    const [isPasswordReady, setIsPasswordReady] = useState(null);\n    const [name, setName] = useState(null);\n    const [password, setPassword] = useState(null);\n\n    function handleSubmit(event) {\n      event.preventDefault();\n      let index = 0;\n      let find = false;\n      // Check if the username and password match\n      for (; index < users.length; index++) {\n        if (users[index].userName === name && users[index].password === password) {\n          find = true;\n          break;\n        }\n      }\n      if (find) {\n        const updatedUsers = users.map((user, i) =>\n          i === index ? { ...user, registered: \"yes\" } : user\n        );\n        setUsers(updatedUsers); // Update the users array in the parent component\n        setUser(users[index])\n        console.log(users[index])\n        navigate('/chat');\n      } else {\n        setIsCorrect(false);\n      }\n    }\n      \n    return (\n        <div>\n            {\n        //<!--background like sea-->\n        }\n        <div className=\"patterns sea\"></div>\n        <form onSubmit={handleSubmit}>\n{\n            //<!--the log in screen-->\n            }\n            <div className=\"container-fluid\" id=\"log-screen\">\n                    {\n                    //<!--Username lable-->\n}\n                <UsernameLog users={users} setIsReady={setIsNameReady} setVal={setName} />\n    {\n                //<!--password lable-->\n    }\n                <PasswordLog name={name} setIsReady={setIsPasswordReady} setVal={setPassword} users={users} />\n                {\n                    !isCorrect &&(\n                        <div className=\"lable alert alert-danger\">\n                            Incorrect username or password\n                </div>\n                    )\n                }\n    {\n                //<!--login botton-->\n    }\n                <button type=\"submit\" className=\"btn btn-primary screen-foot\" id=\"login\">Login</button>\n               {\n                //<!--link to register-->\n               }\n            <span className=\"screen-foot\" id=\"register\">Not registered? <Link to=\"/\">click here</Link> to register</span>\n            </div>\n        </form>\n    </div>\n    );\n  }\n  \n  export default LogIn;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}